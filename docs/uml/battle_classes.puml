@startuml
' Complete Class Diagram
abstract "sw::core::IPosition" as C_0006488179991145207556
abstract C_0006488179991145207556 {
+~IPosition() constexpr = default : void
..
{abstract} +operator!=(const IPosition & other) const = 0 : bool
{abstract} +operator==(const IPosition & other) const = 0 : bool
..
{abstract} +clone() const = 0 : std::unique_ptr<IPosition>
{abstract} +getCellsAtDistance(int32_t distance, const IDistanceCalculator & calculator) const = 0 : std::vector<std::unique_ptr<IPosition>>
{abstract} +getCoordinate(int index) const = 0 : uint32_t
{abstract} +getDimensionCount() const = 0 : int
{abstract} +isValid(const IMap & map) const = 0 : bool
__
}
class "sw::core::ActionCheckContext" as C_0018210922968192138014
class C_0018210922968192138014 {
+ActionCheckContext(IMap & map, std::function<Unit *(UnitId)> getUnit, std::function<std::vector<Unit *> (const IPosition &,uint32_t)> getUnitsInRadius) : void
__
+getUnit : std::function<Unit *(UnitId)>
+getUnitsInRadius : std::function<std::vector<Unit *> (const IPosition &,uint32_t)>
+map : IMap &
}
class "sw::core::ActionContext" as C_0004825822224794766801
class C_0004825822224794766801 {
+ActionContext(IMap & map, IEventLogger & logger, std::mt19937 & rng, uint64_t currentTick, std::function<Unit *(UnitId)> getUnit, std::function<std::vector<Unit *> (const IPosition &,uint32_t)> getUnitsInRadius) : void
__
+currentTick : uint64_t
+logger : IEventLogger &
+rng : std::mt19937 &
}
abstract "sw::core::IMap" as C_0000197618352548875172
abstract C_0000197618352548875172 {
+~IMap() constexpr = default : void
..
{abstract} +free(const IPosition & pos, UnitId id) = 0 : void
{abstract} +getDimensionCount() const = 0 : int
{abstract} +getDimensionSize(int index) const = 0 : uint32_t
{abstract} +isOccupied(const IPosition & pos) const = 0 : bool
{abstract} +isValid(const IPosition & pos) const = 0 : bool
{abstract} +occupy(const IPosition & pos, UnitId id) = 0 : void
__
}
abstract "sw::core::IEventLogger" as C_0002391115936535515030
abstract C_0002391115936535515030 {
+~IEventLogger() constexpr = default : void
..
{abstract} +logMarchEnded(UnitId unitId, const IPosition & pos, uint64_t tick) = 0 : void
{abstract} +logUnitAttacked(UnitId attackerId, UnitId targetId, uint32_t damage, uint32_t targetHp, uint64_t tick) = 0 : void
{abstract} +logUnitDied(UnitId unitId, uint64_t tick) = 0 : void
{abstract} +logUnitMoved(UnitId unitId, const IPosition & pos, uint64_t tick) = 0 : void
__
}
abstract "sw::core::Unit" as C_0004932723151689733392
abstract C_0004932723151689733392 {
+Unit(UnitId id, std::unique_ptr<IPosition> pos, std::unique_ptr<IHealth> health, std::unique_ptr<IActionManager> actionManager, std::unique_ptr<ILifecycleService> lifecycle, std::unique_ptr<IMovementRuleService> movementRule, std::unique_ptr<IActionExecutorService> actionExecutor, const UnitProperties & properties = UnitProperties{}) : void
+~Unit() = default : void
..
+act(ActionContext & context) : void
#addAction(std::unique_ptr<IAction> action) : void
+canAct() const : bool
+canBeAttacked() const : bool
+canMove() const : bool
+clearTargetPosition() : void
+getActions() const : const std::vector<std::unique_ptr<IAction>> &
+getHp() const : int
+getId() const : UnitId
+getMovement() : Movement &
+getMovement() const : const Movement &
+getPosition() const : const IPosition &
+getTargetPosition() const : const IPosition *
+hasActions() const : bool
+hasHp() const : bool
{abstract} +initializeActions() = 0 : void
+isAlive() const : bool
+isFlying() const : bool
+isInRangedAttackRange(uint32_t distance, int minRange, int maxRange) const : bool
+occupiesCell() const : bool
+setActionExecutor(std::unique_ptr<IActionExecutorService> executor) : void
+setHp(int hp) : void
+setLifecycle(std::unique_ptr<ILifecycleService> lifecycle) : void
+setPosition(std::unique_ptr<IPosition> pos) : void
+setTargetPosition(std::unique_ptr<IPosition> target) : void
+shouldBeRemoved() const : bool
+takeDamage(int damage) : void
__
#actionExecutor : std::unique_ptr<IActionExecutorService>
#actionManager : std::unique_ptr<IActionManager>
#health : std::unique_ptr<IHealth>
#id : UnitId
#lifecycle : std::unique_ptr<ILifecycleService>
#movement : Movement
}
abstract "sw::core::IDistanceCalculator" as C_0006302066142448381301
abstract C_0006302066142448381301 {
+~IDistanceCalculator() constexpr = default : void
..
{abstract} +calculate(const IPosition & from, const IPosition & to) const = 0 : uint32_t
__
}
class "sw::core::GameTime" as C_0010301530904680242886
class C_0010301530904680242886 {
-GameTime() : void
+GameTime(uint64_t initialTick) : void
+GameTime(const GameTime &) = deleted : void
..
+operator=(const GameTime &) = deleted : GameTime &
..
+getCurrentTick() const : uint64_t
{static} +getInstance() : const GameTime &
{static} +getMutableInstance() : GameTime &
+nextTick() : void
+reset() : void
{static} +resetInstance() : void
+setTick(uint64_t tick) : void
__
-currentTick : uint64_t
{static} -instance : GameTime *
}
abstract "sw::core::IGameContinuationChecker" as C_0013518549816773163541
abstract C_0013518549816773163541 {
+~IGameContinuationChecker() constexpr = default : void
..
{abstract} +shouldContinue() const = 0 : bool
__
}
abstract "sw::core::IMapManager" as C_0007458410791953817432
abstract C_0007458410791953817432 {
+~IMapManager() constexpr = default : void
..
{abstract} +createMap(const std::vector<uint32_t> & dimensionSizes) = 0 : void
{abstract} +getMap() const = 0 : IMap *
{abstract} +hasMap() const = 0 : bool
__
}
abstract "sw::core::IUnitManager" as C_0013881751628026316112
abstract C_0013881751628026316112 {
+~IUnitManager() constexpr = default : void
..
{abstract} +addUnit(std::unique_ptr<Unit> unit) = 0 : void
{abstract} +getUnit(UnitId id) const = 0 : Unit *
{abstract} +getUnitFunction() const = 0 : std::function<Unit *(UnitId)>
{abstract} +getUnits() const = 0 : const std::vector<std::unique_ptr<Unit>> &
{abstract} +getUnitsInRadius(const IPosition & center, uint32_t radius) const = 0 : std::vector<Unit *>
{abstract} +getUnitsInRadiusFunction() const = 0 : std::function<std::vector<Unit *> (const IPosition &,uint32_t)>
{abstract} +removeDeadUnits() = 0 : void
{abstract} +setMap(IMap * map) = 0 : void
__
}
abstract "sw::core::IUnitSpawnValidator" as C_0002381709608970870765
abstract C_0002381709608970870765 {
+~IUnitSpawnValidator() constexpr = default : void
..
{abstract} +setMap(IMap * map) = 0 : void
{abstract} +setUnitManager(IUnitManager * unitManager) = 0 : void
{abstract} +validateUnitPosition(const IPosition & pos, bool occupiesCell) const = 0 : void
{abstract} +validateUnitSpawn(const Unit & unit) const = 0 : void
__
}
class "sw::core::GameSimulator" as C_0003635640190189793598
class C_0003635640190189793598 {
+GameSimulator(IEventLogger & eventLogger, GameTime & gameTime = GameTime::getMutableInstance(), std::unique_ptr<IGameContinuationChecker> continuationChecker = nullptr) : void
+~GameSimulator() : void
..
+createMap(const std::vector<uint32_t> & dimensionSizes, std::unique_ptr<IUnitManager> unitManager, std::unique_ptr<IMapManager> mapManager, std::unique_ptr<IUnitSpawnValidator> spawnValidator) : void
-getActionContext() : ActionContext &
+getUnit(UnitId id) const : Unit *
-processTick() : void
+setContinuationChecker(std::unique_ptr<IGameContinuationChecker> continuationChecker) : void
+setUnitTargetPosition(UnitId id, std::unique_ptr<IPosition> target) : void
+shouldContinue() : bool
+simulate() : void
+spawnUnit(std::unique_ptr<Unit> unit) : void
__
-cachedActionContext : std::optional<ActionContext>
-continuationChecker : std::unique_ptr<IGameContinuationChecker>
-eventLogger : IEventLogger *
-gameTime : GameTime &
-mapManager : std::unique_ptr<IMapManager>
-rng : std::mt19937
-spawnValidator : std::unique_ptr<IUnitSpawnValidator>
-unitManager : std::unique_ptr<IUnitManager>
}
abstract "sw::core::IHealth" as C_0012250360901341769551
abstract C_0012250360901341769551 {
+~IHealth() constexpr = default : void
..
{abstract} +getHp() const = 0 : int
{abstract} +hasHp() const = 0 : bool
{abstract} +isAlive() const = 0 : bool
{abstract} +setHp(int hp) = 0 : void
{abstract} +takeDamage(int damage) = 0 : void
__
}
abstract "sw::core::IMovementRuleService" as C_0009276482760230995554
abstract C_0009276482760230995554 {
+~IMovementRuleService() constexpr = default : void
..
{abstract} +collectReachablePositions(const IPosition & currentPos, const IMap & map, uint32_t moveDistance, bool needsFreeCell) const = 0 : std::vector<std::unique_ptr<IPosition>>
{abstract} +findBestPosition(const std::vector<std::unique_ptr<IPosition>> & reachablePositions, const IPosition & currentPos, const IPosition * targetPos) const = 0 : std::unique_ptr<IPosition>
__
}
class "sw::core::Movement" as C_0015009710673234826674
class C_0015009710673234826674 {
+Movement(std::unique_ptr<IPosition> pos, std::unique_ptr<IMovementRuleService> rule, bool canMove, bool isFlying = false, bool occupiesCell = true) : void
..
+calculateNextPosition(const IMap & map, uint32_t moveDistance, bool needsFreeCell) const : std::unique_ptr<IPosition>
+canMove() const : bool
+clearTargetPosition() : void
+getPosition() const : const IPosition &
+getTargetPosition() const : const IPosition *
+hasTarget() const : bool
+isFlying() const : bool
+isTargetReached() const : bool
+occupiesCell() const : bool
+setMovementRule(std::unique_ptr<IMovementRuleService> rule) : void
+setPosition(std::unique_ptr<IPosition> pos) : void
+setTargetPosition(std::unique_ptr<IPosition> target) : void
__
-canMoveFlag : bool
-isFlyingFlag : bool
-movementRule : std::unique_ptr<IMovementRuleService>
-occupiesCellFlag : bool
-position : std::unique_ptr<IPosition>
-targetPosition : std::unique_ptr<IPosition>
}
abstract "sw::core::IAction" as C_0005814089780677918486
abstract C_0005814089780677918486 {
+~IAction() constexpr = default : void
..
{abstract} +canExecute(const Unit & actor, const ActionCheckContext & context) = 0 : bool
{abstract} +execute(Unit & actor, ActionContext & context) = 0 : void
__
}
abstract "sw::core::IActionManager" as C_0013256905832312134408
abstract C_0013256905832312134408 {
+~IActionManager() constexpr = default : void
..
{abstract} +addAction(std::unique_ptr<IAction> action) = 0 : void
{abstract} +clearActions() = 0 : void
{abstract} +getActions() const = 0 : const std::vector<std::unique_ptr<IAction>> &
{abstract} +hasActions() const = 0 : bool
__
}
abstract "sw::core::IActionExecutorService" as C_0005356450265975470012
abstract C_0005356450265975470012 {
+~IActionExecutorService() constexpr = default : void
..
{abstract} +execute(Unit & unit, ActionContext & context) = 0 : bool
__
}
abstract "sw::core::ILifecycleService" as C_0014809351320005079155
abstract C_0014809351320005079155 {
+~ILifecycleService() constexpr = default : void
..
{abstract} +canBeAttacked(const IHealth & health) const = 0 : bool
{abstract} +shouldBeRemoved(const IHealth & health) const = 0 : bool
__
}
class "sw::core::UnitProperties" as C_0001144603572960060725
class C_0001144603572960060725 {
+UnitProperties(bool canMove = true, bool hasHp = true, bool isFlying = false, bool occupiesCell = true, int initialHp = 0) : void
__
+canMove : bool
+hasHp : bool
+initialHp : int
+isFlying : bool
+occupiesCell : bool
}
abstract "sw::core::IActionAvailabilityChecker" as C_0003440498821945082736
abstract C_0003440498821945082736 {
+~IActionAvailabilityChecker() constexpr = default : void
..
{abstract} +hasAvailableAction(const Unit & unit) const = 0 : bool
__
}
class "sw::core::UnitFactory" as C_0006759338282301462262
class C_0006759338282301462262 {
+create<TUnit,Args...>(Args &&... args) : std::unique_ptr<Unit>
__
}
class "sw::io::CommandParser" as C_0008999923437550889593
class C_0008999923437550889593 {
+add<TCommandData>(std::function<void (TCommandData)> handler) : CommandParser &
+parse(std::istream & stream) : void
__
-_commands : std::unordered_map<std::string,std::function<void (std::istream &)>>
}
class "sw::io::CreateMap" as C_0001254904180568467720
class C_0001254904180568467720 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+height : uint32_t
+width : uint32_t
}
class "sw::io::March" as C_0002566343424833563829
class C_0002566343424833563829 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+targetX : uint32_t
+targetY : uint32_t
+unitId : uint32_t
}
class "sw::io::SpawnHunter" as C_0004376173467287811300
class C_0004376173467287811300 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+agility : uint32_t
+hp : uint32_t
+range : uint32_t
+strength : uint32_t
+unitId : uint32_t
+x : uint32_t
+y : uint32_t
}
class "sw::io::SpawnSwordsman" as C_0010907656577799012675
class C_0010907656577799012675 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+hp : uint32_t
+strength : uint32_t
+unitId : uint32_t
+x : uint32_t
+y : uint32_t
}
class "sw::io::MapCreated" as C_0009506401348995426113
class C_0009506401348995426113 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+height : uint32_t
+width : uint32_t
}
class "sw::io::MarchEnded" as C_0010853266836361694007
class C_0010853266836361694007 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+unitId : uint32_t
+x : uint32_t
+y : uint32_t
}
class "sw::io::MarchStarted" as C_0000497053425345951845
class C_0000497053425345951845 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+targetX : uint32_t
+targetY : uint32_t
+unitId : uint32_t
+x : uint32_t
+y : uint32_t
}
class "sw::io::UnitAttacked" as C_0014062713297622710273
class C_0014062713297622710273 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+attackerUnitId : uint32_t
+damage : uint32_t
+targetHp : uint32_t
+targetUnitId : uint32_t
}
class "sw::io::UnitDied" as C_0006141219730111592271
class C_0006141219730111592271 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+unitId : uint32_t
}
class "sw::io::UnitMoved" as C_0008426706629228763790
class C_0008426706629228763790 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+unitId : uint32_t
+x : uint32_t
+y : uint32_t
}
class "sw::io::UnitSpawned" as C_0012687909788851646744
class C_0012687909788851646744 {
+visit<Visitor>(Visitor & visitor) : void
__
{static} +Name : const char *const
+unitId : uint32_t
+unitType : std::string
+x : uint32_t
+y : uint32_t
}
class "sw::io::EventLogAdapter" as C_0017966149214087722946
class C_0017966149214087722946 {
+EventLogAdapter(EventLog & eventLog) : void
..
+logMarchEnded(sw::core::UnitId unitId, const sw::core::IPosition & pos, uint64_t tick) : void
+logUnitAttacked(sw::core::UnitId attackerId, sw::core::UnitId targetId, uint32_t damage, uint32_t targetHp, uint64_t tick) : void
+logUnitDied(sw::core::UnitId unitId, uint64_t tick) : void
+logUnitMoved(sw::core::UnitId unitId, const sw::core::IPosition & pos, uint64_t tick) : void
__
-eventLog : EventLog &
}
class "sw::features::ActionExecutorService" as C_0016728239890416061315
class C_0016728239890416061315 {
+execute(sw::core::Unit & unit, sw::core::ActionContext & context) : bool
__
}
class "sw::features::AttackAction" as C_0011394381920313888164
class C_0011394381920313888164 {
#performAttack(sw::core::Unit & actor, sw::core::Unit * target, int damage, sw::core::IEventLogger & logger, uint64_t currentTick) : void
__
}
class "sw::features::RangedAttack" as C_0011322766189690311248
class C_0011322766189690311248 {
+RangedAttack(int minRange, int maxRange, int damage, bool requiresNoAdjacentUnits = false) : void
..
+canExecute(const Unit & actor, const ActionCheckContext & context) : bool
-canPerformRangedAttack(const Unit & actor, const ActionCheckContext & context) const : bool
+execute(Unit & actor, ActionContext & context) : void
-findTargets(const Unit & actor, const ActionCheckContext & context) const : std::vector<Unit *>
-hasNoAdjacentUnits(const Unit & actor, const ActionCheckContext & context) const : bool
-isValidTarget(Unit * target, const Unit & actor, const IPosition & pos, const IPosition & actorPos) const : bool
__
-damage : int
-maxRange : int
-minRange : int
-requiresNoAdjacentUnits : bool
}
class "sw::features::Position2D" as C_0012592110988132115014
class C_0012592110988132115014 {
+Position2D() = default : void
+Position2D(uint32_t x, uint32_t y) : void
..
+operator!=(const sw::core::IPosition & other) const : bool
+operator!=(const Position2D & other) const : bool
+operator==(const sw::core::IPosition & other) const : bool
+operator==(const Position2D & other) const : bool
..
+clone() const : std::unique_ptr<sw::core::IPosition>
+getCellsAtDistance(int32_t distance, const sw::core::IDistanceCalculator & calculator) const : std::vector<std::unique_ptr<sw::core::IPosition>>
+getCellsAtDistanceValue(int32_t distance, const sw::core::IDistanceCalculator & calculator) const : std::vector<Position2D>
+getCoordinate(int index) const : uint32_t
+getDimensionCount() const : int
+isValid(const sw::core::IMap & map) const : bool
-tryCreateCellAtOffset(int32_t dx, int32_t dy, int32_t expectedDistance, const sw::core::IDistanceCalculator & calculator) const : std::optional<Position2D>
__
-coordinates : std::tuple<uint32_t,uint32_t>
}
class "sw::features::ChebyshevDistanceCalculator" as C_0016656411063812548459
class C_0016656411063812548459 {
+calculate(const sw::core::IPosition & from, const sw::core::IPosition & to) const : uint32_t
__
}
class "sw::features::Move" as C_0003375470535856169922
class C_0003375470535856169922 {
+Move(uint32_t moveDistance = 1) : void
..
+canExecute(const Unit & actor, const ActionCheckContext & context) : bool
-endMarch(Unit & actor, const IPosition & pos, IEventLogger & logger, uint64_t currentTick) const : void
+execute(Unit & actor, ActionContext & context) : void
-updateUnitPosition(Unit & actor, IMap & map, const IPosition & newPos, const IPosition & oldPos, IEventLogger & logger, uint64_t currentTick) const : void
__
-moveDistance : uint32_t
}
class "sw::features::MeleeAttack" as C_0012407641239717902586
class C_0012407641239717902586 {
+MeleeAttack(int damage) : void
..
+canExecute(const Unit & actor, const ActionCheckContext & context) : bool
+execute(Unit & actor, ActionContext & context) : void
-findValidTargets(const Unit & actor, const ActionCheckContext & context) const : std::vector<Unit *>
__
-damage : int
}
class "sw::features::ActionAvailabilityChecker" as C_0010075965441875301016
class C_0010075965441875301016 {
+ActionAvailabilityChecker(sw::core::IMap * map, sw::core::IUnitManager * unitManager) : void
..
+hasAvailableAction(const sw::core::Unit & unit) const : bool
__
-map : sw::core::IMap *
-unitManager : sw::core::IUnitManager *
}
class "sw::features::GameContinuationChecker" as C_0007721080133597843415
class C_0007721080133597843415 {
+GameContinuationChecker(sw::core::IUnitManager * unitManager, sw::core::IActionAvailabilityChecker * actionChecker) : void
..
+shouldContinue() const : bool
__
-actionChecker : sw::core::IActionAvailabilityChecker *
-unitManager : sw::core::IUnitManager *
}
class "sw::features::MapManager" as C_0013127166620023903582
class C_0013127166620023903582 {
+createMap(const std::vector<uint32_t> & dimensionSizes) : void
+getMap() const : sw::core::IMap *
+hasMap() const : bool
__
-map : std::unique_ptr<sw::core::IMap>
}
class "sw::features::Map" as C_0010704213268690151897
class C_0010704213268690151897 {
+Map(const std::vector<uint32_t> & dimensionSizes) : void
..
+free(const sw::core::IPosition & pos, sw::core::UnitId id) : void
+getDimensionCount() const : int
+getDimensionSize(int index) const : uint32_t
+getUnitsAt(const sw::core::IPosition & pos) const : std::vector<sw::core::UnitId>
+isOccupied(const sw::core::IPosition & pos) const : bool
+isValid(const sw::core::IPosition & pos) const : bool
+occupy(const sw::core::IPosition & pos, sw::core::UnitId id) : void
-toPosition2D(const sw::core::IPosition & pos) const : Position2D
__
-height : uint32_t
-occupiedCells : std::unordered_map<Position2D,std::unordered_set<sw::core::UnitId>>
-width : uint32_t
}
class "sw::features::DefaultUnitManager" as C_0009567896059792218318
class C_0009567896059792218318 {
+DefaultUnitManager() : void
..
+addUnit(std::unique_ptr<sw::core::Unit> unit) : void
+getUnit(sw::core::UnitId id) const : sw::core::Unit *
+getUnitFunction() const : std::function<sw::core::Unit *(sw::core::UnitId)>
+getUnits() const : const std::vector<std::unique_ptr<sw::core::Unit>> &
+getUnitsInRadius(const sw::core::IPosition & center, uint32_t radius) const : std::vector<sw::core::Unit *>
+getUnitsInRadiusFunction() const : std::function<std::vector<sw::core::Unit *> (const sw::core::IPosition &,uint32_t)>
+removeDeadUnits() : void
+setMap(sw::core::IMap * map) : void
__
-map : sw::core::IMap *
-units : std::vector<std::unique_ptr<sw::core::Unit>>
}
class "sw::features::UnitSpawnValidator" as C_0001604567808692115643
class C_0001604567808692115643 {
+UnitSpawnValidator() : void
..
+setMap(sw::core::IMap * map) : void
+setUnitManager(sw::core::IUnitManager * unitManager) : void
+validateUnitPosition(const sw::core::IPosition & pos, bool occupiesCell) const : void
+validateUnitSpawn(const sw::core::Unit & unit) const : void
__
-map : sw::core::IMap *
-unitManager : sw::core::IUnitManager *
}
class "sw::features::LifecycleService" as C_0008402695384628255762
class C_0008402695384628255762 {
+canBeAttacked(const sw::core::IHealth & health) const : bool
+shouldBeRemoved(const sw::core::IHealth & health) const : bool
__
}
class "sw::features::MovementRuleService" as C_0013266760677540124724
class C_0013266760677540124724 {
+collectReachablePositions(const sw::core::IPosition & currentPos, const sw::core::IMap & map, uint32_t moveDistance, bool needsFreeCell) const : std::vector<std::unique_ptr<sw::core::IPosition>>
+findBestPosition(const std::vector<std::unique_ptr<sw::core::IPosition>> & reachablePositions, const sw::core::IPosition & currentPos, const sw::core::IPosition * targetPos) const : std::unique_ptr<sw::core::IPosition>
__
}
class "sw::features::Hunter" as C_0001105047625818279080
class C_0001105047625818279080 {
+Hunter(sw::core::UnitId id, sw::features::Position2D pos, int hp, int agility, int strength, int range) : void
..
+initializeActions() : void
__
-agility : int
-range : int
-strength : int
}
class "sw::features::DefaultActionManager" as C_0004023770115943214504
class C_0004023770115943214504 {
+addAction(std::unique_ptr<sw::core::IAction> action) : void
+clearActions() : void
+getActions() const : const std::vector<std::unique_ptr<sw::core::IAction>> &
+hasActions() const : bool
__
-actions : std::vector<std::unique_ptr<sw::core::IAction>>
}
class "sw::features::DefaultHealth" as C_0006651537334885289861
class C_0006651537334885289861 {
+DefaultHealth(bool hasHp, int initialHp = 0) : void
..
+getHp() const : int
+hasHp() const : bool
+isAlive() const : bool
+setHp(int hp) : void
+takeDamage(int damage) : void
__
-currentHp : int
-hasHpFlag : bool
}
class "sw::features::Swordsman" as C_0010923495533931277779
class C_0010923495533931277779 {
+Swordsman(sw::core::UnitId id, sw::features::Position2D pos, int hp, int strength) : void
..
+initializeActions() : void
__
-strength : int
}
C_0006488179991145207556 ..> C_0006302066142448381301
C_0006488179991145207556 ..> C_0000197618352548875172
C_0018210922968192138014 --> C_0000197618352548875172 : +map
C_0018210922968192138014 --> C_0006488179991145207556 : +getUnitsInRadius
C_0004825822224794766801 ..> C_0000197618352548875172
C_0004825822224794766801 ..> C_0006488179991145207556
C_0004825822224794766801 --> C_0002391115936535515030 : +logger
C_0018210922968192138014 <|-- C_0004825822224794766801
C_0000197618352548875172 ..> C_0006488179991145207556
C_0002391115936535515030 ..> C_0006488179991145207556
C_0004932723151689733392 ..> C_0006488179991145207556
C_0004932723151689733392 ..> C_0009276482760230995554
C_0004932723151689733392 ..> C_0001144603572960060725
C_0004932723151689733392 ..> C_0005814089780677918486
C_0004932723151689733392 ..> C_0004825822224794766801
C_0004932723151689733392 o-- C_0012250360901341769551 : #health
C_0004932723151689733392 o-- C_0015009710673234826674 : #movement
C_0004932723151689733392 o-- C_0013256905832312134408 : #actionManager
C_0004932723151689733392 o-- C_0014809351320005079155 : #lifecycle
C_0004932723151689733392 o-- C_0005356450265975470012 : #actionExecutor
C_0006302066142448381301 ..> C_0006488179991145207556
C_0010301530904680242886 --> C_0010301530904680242886 : -instance
C_0007458410791953817432 ..> C_0000197618352548875172
C_0013881751628026316112 ..> C_0000197618352548875172
C_0013881751628026316112 ..> C_0004932723151689733392
C_0013881751628026316112 ..> C_0006488179991145207556
C_0002381709608970870765 ..> C_0000197618352548875172
C_0002381709608970870765 ..> C_0013881751628026316112
C_0002381709608970870765 ..> C_0004932723151689733392
C_0002381709608970870765 ..> C_0006488179991145207556
C_0003635640190189793598 ..> C_0004932723151689733392
C_0003635640190189793598 ..> C_0006488179991145207556
C_0003635640190189793598 o-- C_0007458410791953817432 : -mapManager
C_0003635640190189793598 o-- C_0013881751628026316112 : -unitManager
C_0003635640190189793598 --> C_0002391115936535515030 : -eventLogger
C_0003635640190189793598 --> C_0010301530904680242886 : -gameTime
C_0003635640190189793598 o-- C_0013518549816773163541 : -continuationChecker
C_0003635640190189793598 o-- C_0002381709608970870765 : -spawnValidator
C_0003635640190189793598 o-- C_0004825822224794766801 : -cachedActionContext
C_0009276482760230995554 ..> C_0006488179991145207556
C_0009276482760230995554 ..> C_0000197618352548875172
C_0015009710673234826674 ..> C_0000197618352548875172
C_0015009710673234826674 o-- C_0006488179991145207556 : -position
C_0015009710673234826674 o-- C_0006488179991145207556 : -targetPosition
C_0015009710673234826674 o-- C_0009276482760230995554 : -movementRule
C_0005814089780677918486 ..> C_0004932723151689733392
C_0005814089780677918486 ..> C_0018210922968192138014
C_0005814089780677918486 ..> C_0004825822224794766801
C_0013256905832312134408 ..> C_0005814089780677918486
C_0005356450265975470012 ..> C_0004932723151689733392
C_0005356450265975470012 ..> C_0004825822224794766801
C_0014809351320005079155 ..> C_0012250360901341769551
C_0003440498821945082736 ..> C_0004932723151689733392
C_0017966149214087722946 ..> C_0006488179991145207556
C_0002391115936535515030 <|-- C_0017966149214087722946
C_0016728239890416061315 ..> C_0004932723151689733392
C_0016728239890416061315 ..> C_0004825822224794766801
C_0005356450265975470012 <|-- C_0016728239890416061315
C_0011394381920313888164 ..> C_0004932723151689733392
C_0011394381920313888164 ..> C_0002391115936535515030
C_0005814089780677918486 <|-- C_0011394381920313888164
C_0011322766189690311248 ..> C_0004932723151689733392
C_0011322766189690311248 ..> C_0018210922968192138014
C_0011322766189690311248 ..> C_0006488179991145207556
C_0011322766189690311248 ..> C_0004825822224794766801
C_0011394381920313888164 <|-- C_0011322766189690311248
C_0012592110988132115014 ..> C_0006302066142448381301
C_0012592110988132115014 ..> C_0000197618352548875172
C_0006488179991145207556 <|-- C_0012592110988132115014
C_0016656411063812548459 ..> C_0006488179991145207556
C_0006302066142448381301 <|-- C_0016656411063812548459
C_0003375470535856169922 ..> C_0004932723151689733392
C_0003375470535856169922 ..> C_0000197618352548875172
C_0003375470535856169922 ..> C_0006488179991145207556
C_0003375470535856169922 ..> C_0002391115936535515030
C_0003375470535856169922 ..> C_0018210922968192138014
C_0003375470535856169922 ..> C_0004825822224794766801
C_0005814089780677918486 <|-- C_0003375470535856169922
C_0012407641239717902586 ..> C_0004932723151689733392
C_0012407641239717902586 ..> C_0018210922968192138014
C_0012407641239717902586 ..> C_0004825822224794766801
C_0011394381920313888164 <|-- C_0012407641239717902586
C_0010075965441875301016 ..> C_0004932723151689733392
C_0010075965441875301016 --> C_0000197618352548875172 : -map
C_0010075965441875301016 --> C_0013881751628026316112 : -unitManager
C_0003440498821945082736 <|-- C_0010075965441875301016
C_0007721080133597843415 --> C_0013881751628026316112 : -unitManager
C_0007721080133597843415 --> C_0003440498821945082736 : -actionChecker
C_0013518549816773163541 <|-- C_0007721080133597843415
C_0013127166620023903582 o-- C_0000197618352548875172 : -map
C_0007458410791953817432 <|-- C_0013127166620023903582
C_0010704213268690151897 ..> C_0006488179991145207556
C_0010704213268690151897 o-- C_0012592110988132115014 : -occupiedCells
C_0000197618352548875172 <|-- C_0010704213268690151897
C_0009567896059792218318 ..> C_0006488179991145207556
C_0009567896059792218318 o-- C_0004932723151689733392 : -units
C_0009567896059792218318 --> C_0000197618352548875172 : -map
C_0013881751628026316112 <|-- C_0009567896059792218318
C_0001604567808692115643 ..> C_0004932723151689733392
C_0001604567808692115643 ..> C_0006488179991145207556
C_0001604567808692115643 --> C_0000197618352548875172 : -map
C_0001604567808692115643 --> C_0013881751628026316112 : -unitManager
C_0002381709608970870765 <|-- C_0001604567808692115643
C_0008402695384628255762 ..> C_0012250360901341769551
C_0014809351320005079155 <|-- C_0008402695384628255762
C_0013266760677540124724 ..> C_0006488179991145207556
C_0013266760677540124724 ..> C_0000197618352548875172
C_0009276482760230995554 <|-- C_0013266760677540124724
C_0001105047625818279080 ..> C_0012592110988132115014
C_0004932723151689733392 <|-- C_0001105047625818279080
C_0004023770115943214504 o-- C_0005814089780677918486 : -actions
C_0013256905832312134408 <|-- C_0004023770115943214504
C_0012250360901341769551 <|-- C_0006651537334885289861
C_0010923495533931277779 ..> C_0012592110988132115014
C_0004932723151689733392 <|-- C_0010923495533931277779

'Generated with clang-uml, version 0.6.2
'LLVM version Homebrew clang version 21.1.5
@enduml
